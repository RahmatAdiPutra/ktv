<div class="h-100 d-flex flex-column">
  <div class="h-100 m-1 overflow-auto bg-light">
    <table mat-table [dataSource]="source.rooms" class="w-100 room">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Room </th>
        <td mat-cell *matCellDef="let row;" (click)="roomSelect(row)"> {{row.name}} </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let row;" (click)="roomSelect(row)"> <span class="badge badge-pill badge-{{row.status.color}}">{{row.status.name}}</span> </td>
      </ng-container>

      <ng-container matColumnDef="guest_name">
        <th mat-header-cell *matHeaderCellDef> Guest </th>
        <td mat-cell *matCellDef="let row;" (click)="roomSelect(row)"> {{row.guest_name}} </td>
      </ng-container>

      <ng-container matColumnDef="ip_address">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let row;">
          <button mat-icon-button color="primary" [matMenuTriggerFor]="appMenu">
            <mat-icon>more_vert</mat-icon>
          </button> 
          <mat-menu #appMenu="matMenu">
            <button mat-menu-item>{{row.ip_address}}</button>
          </mat-menu>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="column.rooms; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: column.rooms; let i = index;" [ngClass]="data.room.selected[i] ? 'selected' : ''"></tr>
    </table>
  </div>
</div> 